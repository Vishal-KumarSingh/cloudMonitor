
{% extends "index.html" %}
{% block page %}

<div class="stats shadow w-full">
  
    <div class="stat w-full">
      <div class="stat-figure text-primary">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="inline-block w-8 h-8 stroke-current"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path></svg>
      </div>
      <div class="stat-title">Memory Usge  </div>
      <div class="stat-value text-primary p-2"><span id="memoryusage">{{ usage.memory }}</span>%</div>
      <div class="stat-desc  p-2">Total Memory  :- <span id="totalmemory">{{ totalmemory }}</span></div>
    </div>
    
    <div class="stat">
      <div class="stat-figure text-secondary">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="inline-block w-8 h-8 stroke-current"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
      </div>
      <div class="stat-title">CPU Usage</div>
      <div class="stat-value text-secondary  p-2"><span id="cpuusage">{{ usage.cpu }}</span>%</div>
      <div class="stat-desc  p-2">Total CPU(s) :- <span id="totalcpu">{{ totalcpu }}</span> Cores </div>
    </div>
    
    <div class="stat">
      <div class="stat-figure text-secondary">
        <div class="avatar online">
          
        </div>
      </div>
      <div class="stat-value"><span id="process">0</span></div>
      <div class="stat-title">Process Running </div>
      <div class="stat-desc text-secondary"></div>
    </div>
    

  </div>
    


  <div class="stats shadow w-full">
  
    <div class="stat w-full">
      <div class="stat-figure text-primary">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="inline-block w-8 h-8 stroke-current"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path></svg>
      </div>
      <div class="stat-title">Disk Usage   </div>
      <div class="stat-value text-primary p-2"><span id="diskusage">{{usage.disk}}</span></div>
      <div class="stat-desc  p-2">Total Disk Space  :- <span id="totladisk">{{totaldisk}}</span></div>
    </div>
    
    <div class="stat">
      <div class="stat-figure text-secondary">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="inline-block w-8 h-8 stroke-current"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
      </div>
      <div class="stat-title">Ping </div>
      <div class="stat-value text-secondary  p-2"><span id="ping">10</span>ms</div>
      <div class="stat-desc  p-2">Traffic Speec :- <span id="totalcpu">1.00 GB/s</span> </div>
    </div>
    
    <div class="stat">
      <div class="stat-figure text-secondary">
        <div class="avatar online">
          
        </div>
      </div>
      <div class="stat-value">{{firewall}}</div>
      <div class="stat-title">Firewall Status </div>
      <div class="stat-desc text-secondary"></div>
    </div>
    

  </div>
    




  <script>

      setInterval(() => {
        var startTime = new Date().getTime();

        fetchData("{% url 'resourceusage' %}", {} , (data) => {
          data = JSON.parse(data);
          var endTime = new Date().getTime();
          var pingTime = endTime - startTime;
          document.getElementById('memoryusage').innerText = parseInt(data.memory);
          document.getElementById('cpuusage').innerText = parseInt(data.cpu);
          document.getElementById('process').innerText = parseInt(data.process);
          document.getElementById('diskusage').innerText = data.disk;
          document.getElementById('ping').innerText = pingTime;
        });

      }, 1000);

  </script>
  {% endblock %}

